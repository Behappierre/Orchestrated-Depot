import type { Vehicle } from '../types';

// Generate 50 realistic vehicles across 3 depots
export const mockVehicles: Vehicle[] = [
  // ============================================================================
  // CENTRAL DEPOT - 25 vehicles
  // ============================================================================

  // Vehicles with pull-out risk (for demo alerts)
  {
    id: 'BUS-101',
    model: 'eCitaro G',
    manufacturer: 'Mercedes',
    depotId: 'central',
    soc: 32,
    requiredSoC: 90,
    targetSoC: 95,
    status: 'Charging',
    chargerId: 'CH-C01',
    location: 'Bay A1',
    assignedDuty: 'DUTY-001',
    lat: 51.5321,
    lng: -0.1241,
    soh: 96,
    odometer: 67800,
    efficiency: 1.35,
    driverScore: 88,
    cycles: 520,
    batteryTemp: 28,
    ambientTemp: 8,
    hvacLoad: 12,
    nextService: '5d',
    lastSync: '22ms',
    connectionType: 'CCS2',
    predictedSoCAtDeparture: 78,
    chargingTimeRemaining: 95,
    rangeRemaining: 85,
  },
  {
    id: 'BUS-102',
    model: 'eCitaro',
    manufacturer: 'Mercedes',
    depotId: 'central',
    soc: 95,
    requiredSoC: 90,
    targetSoC: 95,
    status: 'Idle',
    chargerId: null,
    location: 'Bay A2',
    assignedDuty: 'DUTY-002',
    lat: 51.5322,
    lng: -0.1242,
    soh: 99,
    odometer: 12050,
    efficiency: 1.12,
    driverScore: 98,
    cycles: 90,
    batteryTemp: 18,
    ambientTemp: 8,
    hvacLoad: 0,
    nextService: '21d',
    lastSync: '15ms',
    connectionType: 'CCS2',
    predictedSoCAtDeparture: 95,
    chargingTimeRemaining: 0,
    rangeRemaining: 280,
  },
  {
    id: 'BUS-103',
    model: '7900 Electric',
    manufacturer: 'Volvo',
    depotId: 'central',
    soc: 88,
    requiredSoC: 85,
    targetSoC: 95,
    status: 'Charging',
    chargerId: 'CH-C02',
    location: 'Bay A3',
    assignedDuty: 'DUTY-003',
    lat: 51.5321,
    lng: -0.1243,
    soh: 97,
    odometer: 45200,
    efficiency: 1.28,
    driverScore: 85,
    cycles: 380,
    batteryTemp: 32,
    ambientTemp: 8,
    hvacLoad: 8,
    nextService: '12d',
    lastSync: '18ms',
    connectionType: 'OppCharge',
    predictedSoCAtDeparture: 95,
    chargingTimeRemaining: 15,
    rangeRemaining: 245,
  },
  {
    id: 'BUS-104',
    model: '7900 Electric',
    manufacturer: 'Volvo',
    depotId: 'central',
    soc: 45,
    requiredSoC: 90,
    targetSoC: 95,
    status: 'Idle',
    chargerId: null,
    location: 'Bay B1',
    assignedDuty: 'DUTY-004',
    lat: 51.5322,
    lng: -0.1244,
    soh: 84,
    odometer: 145000,
    efficiency: 1.52,
    driverScore: 75,
    cycles: 1280,
    batteryTemp: 22,
    ambientTemp: 8,
    hvacLoad: 0,
    nextService: 'Urgent',
    lastSync: '45ms',
    connectionType: 'OppCharge',
    predictedSoCAtDeparture: 45,
    chargingTimeRemaining: 0,
    rangeRemaining: 118,
  },
  {
    id: 'BUS-105',
    model: 'eCitaro',
    manufacturer: 'Mercedes',
    depotId: 'central',
    soc: 98,
    requiredSoC: 90,
    targetSoC: 95,
    status: 'Idle',
    chargerId: null,
    location: 'Bay B2',
    assignedDuty: null, // Available for swap
    lat: 51.5323,
    lng: -0.1241,
    soh: 99,
    odometer: 8500,
    efficiency: 1.08,
    driverScore: 95,
    cycles: 62,
    batteryTemp: 16,
    ambientTemp: 8,
    hvacLoad: 0,
    nextService: '35d',
    lastSync: '12ms',
    connectionType: 'CCS2',
    predictedSoCAtDeparture: 98,
    chargingTimeRemaining: 0,
    rangeRemaining: 295,
  },
  {
    id: 'BUS-106',
    model: 'eCitaro G',
    manufacturer: 'Mercedes',
    depotId: 'central',
    soc: 72,
    requiredSoC: 85,
    targetSoC: 95,
    status: 'Charging',
    chargerId: 'CH-C03',
    location: 'Bay B3',
    assignedDuty: 'DUTY-005',
    lat: 51.5321,
    lng: -0.1245,
    soh: 95,
    odometer: 78400,
    efficiency: 1.42,
    driverScore: 82,
    cycles: 610,
    batteryTemp: 35,
    ambientTemp: 8,
    hvacLoad: 10,
    nextService: '8d',
    lastSync: '28ms',
    connectionType: 'CCS2',
    predictedSoCAtDeparture: 92,
    chargingTimeRemaining: 35,
    rangeRemaining: 195,
  },
  {
    id: 'BUS-107',
    model: 'K9',
    manufacturer: 'BYD',
    depotId: 'central',
    soc: 91,
    requiredSoC: 88,
    targetSoC: 95,
    status: 'Idle',
    chargerId: null,
    location: 'Bay C1',
    assignedDuty: 'DUTY-006',
    lat: 51.5324,
    lng: -0.1242,
    soh: 92,
    odometer: 112000,
    efficiency: 1.38,
    driverScore: 79,
    cycles: 920,
    batteryTemp: 24,
    ambientTemp: 8,
    hvacLoad: 0,
    nextService: '3d',
    lastSync: '32ms',
    connectionType: 'CCS2',
    predictedSoCAtDeparture: 91,
    chargingTimeRemaining: 0,
    rangeRemaining: 252,
  },
  // Active vehicles on routes
  {
    id: 'BUS-108',
    model: 'eCitaro',
    manufacturer: 'Mercedes',
    depotId: 'central',
    soc: 68,
    requiredSoC: 50,
    targetSoC: 95,
    status: 'Driving',
    chargerId: null,
    location: 'Route 5A',
    assignedDuty: 'DUTY-007',
    lat: 51.528,
    lng: -0.118,
    route: 'Route 5A',
    progress: 0.45,
    soh: 98,
    odometer: 34500,
    efficiency: 1.25,
    driverScore: 94,
    cycles: 280,
    batteryTemp: 30,
    ambientTemp: 9,
    hvacLoad: 14,
    nextService: '18d',
    lastSync: '180ms',
    connectionType: 'CCS2',
    predictedSoCAtDeparture: 68,
    chargingTimeRemaining: 0,
    rangeRemaining: 182,
  },
  {
    id: 'BUS-109',
    model: '7900 Electric',
    manufacturer: 'Volvo',
    depotId: 'central',
    soc: 54,
    requiredSoC: 50,
    targetSoC: 95,
    status: 'Driving',
    chargerId: null,
    location: 'Route 10B',
    assignedDuty: 'DUTY-008',
    lat: 51.538,
    lng: -0.132,
    route: 'Route 10B',
    progress: 0.72,
    soh: 96,
    odometer: 56800,
    efficiency: 1.32,
    driverScore: 88,
    cycles: 450,
    batteryTemp: 34,
    ambientTemp: 9,
    hvacLoad: 16,
    nextService: '9d',
    lastSync: '210ms',
    connectionType: 'OppCharge',
    predictedSoCAtDeparture: 54,
    chargingTimeRemaining: 0,
    rangeRemaining: 142,
  },
  {
    id: 'BUS-110',
    model: 'Urbino 12 Electric',
    manufacturer: 'Solaris',
    depotId: 'central',
    soc: 82,
    requiredSoC: 75,
    targetSoC: 95,
    status: 'Driving',
    chargerId: null,
    location: 'Route 25',
    assignedDuty: 'DUTY-009',
    lat: 51.522,
    lng: -0.108,
    route: 'Route 25',
    progress: 0.28,
    soh: 94,
    odometer: 89500,
    efficiency: 1.45,
    driverScore: 81,
    cycles: 740,
    batteryTemp: 29,
    ambientTemp: 9,
    hvacLoad: 12,
    nextService: '14d',
    lastSync: '150ms',
    connectionType: 'Pantograph',
    predictedSoCAtDeparture: 82,
    chargingTimeRemaining: 0,
    rangeRemaining: 215,
  },
  // More Central depot vehicles
  ...generateVehicles('central', 111, 125, 51.532, -0.124),

  // ============================================================================
  // NORTH DEPOT - 15 vehicles
  // ============================================================================
  {
    id: 'BUS-201',
    model: 'eCitaro',
    manufacturer: 'Mercedes',
    depotId: 'north',
    soc: 78,
    requiredSoC: 85,
    targetSoC: 95,
    status: 'Charging',
    chargerId: 'CH-N01',
    location: 'Bay N1',
    assignedDuty: 'DUTY-N01',
    lat: 51.564,
    lng: -0.106,
    soh: 97,
    odometer: 42000,
    efficiency: 1.22,
    driverScore: 91,
    cycles: 340,
    batteryTemp: 26,
    ambientTemp: 7,
    hvacLoad: 8,
    nextService: '16d',
    lastSync: '25ms',
    connectionType: 'CCS2',
    predictedSoCAtDeparture: 95,
    chargingTimeRemaining: 28,
    rangeRemaining: 205,
  },
  ...generateVehicles('north', 202, 215, 51.564, -0.106),

  // ============================================================================
  // EAST DEPOT - 10 vehicles
  // ============================================================================
  {
    id: 'BUS-301',
    model: 'K9',
    manufacturer: 'BYD',
    depotId: 'east',
    soc: 65,
    requiredSoC: 80,
    targetSoC: 95,
    status: 'Charging',
    chargerId: 'CH-E01',
    location: 'Bay E1',
    assignedDuty: 'DUTY-E01',
    lat: 51.543,
    lng: -0.009,
    soh: 91,
    odometer: 98500,
    efficiency: 1.48,
    driverScore: 76,
    cycles: 820,
    batteryTemp: 31,
    ambientTemp: 6,
    hvacLoad: 15,
    nextService: '6d',
    lastSync: '35ms',
    connectionType: 'CCS2',
    predictedSoCAtDeparture: 88,
    chargingTimeRemaining: 42,
    rangeRemaining: 168,
  },
  ...generateVehicles('east', 302, 310, 51.543, -0.009),
];

// Helper to generate additional vehicles
function generateVehicles(
  depotId: string,
  startId: number,
  endId: number,
  baseLat: number,
  baseLng: number
): Vehicle[] {
  const models = [
    { model: 'eCitaro', manufacturer: 'Mercedes' as const },
    { model: 'eCitaro G', manufacturer: 'Mercedes' as const },
    { model: '7900 Electric', manufacturer: 'Volvo' as const },
    { model: 'K9', manufacturer: 'BYD' as const },
    { model: 'Urbino 12 Electric', manufacturer: 'Solaris' as const },
  ];

  const statuses: Vehicle['status'][] = ['Idle', 'Charging', 'Idle', 'Idle', 'Maintenance'];
  const connections: Vehicle['connectionType'][] = ['CCS2', 'CCS2', 'OppCharge', 'CCS2', 'Pantograph'];

  const vehicles: Vehicle[] = [];

  for (let i = startId; i <= endId; i++) {
    const modelInfo = models[Math.floor(Math.random() * models.length)];
    const status = statuses[Math.floor(Math.random() * statuses.length)];
    const soc = Math.floor(Math.random() * 60) + 40; // 40-100%
    const soh = Math.floor(Math.random() * 15) + 85; // 85-100%
    const odometer = Math.floor(Math.random() * 150000);
    const cycles = Math.floor(odometer / 150);

    vehicles.push({
      id: `BUS-${i}`,
      model: modelInfo.model,
      manufacturer: modelInfo.manufacturer,
      depotId,
      soc,
      requiredSoC: Math.floor(Math.random() * 20) + 75, // 75-95%
      targetSoC: 95,
      status,
      chargerId: status === 'Charging' ? `CH-${depotId.charAt(0).toUpperCase()}${String(i).slice(-2)}` : null,
      location: `Bay ${String.fromCharCode(65 + Math.floor(Math.random() * 4))}${Math.floor(Math.random() * 4) + 1}`,
      assignedDuty: Math.random() > 0.3 ? `DUTY-${depotId.charAt(0).toUpperCase()}${String(i).slice(-2)}` : null,
      lat: baseLat + (Math.random() - 0.5) * 0.002,
      lng: baseLng + (Math.random() - 0.5) * 0.002,
      soh,
      odometer,
      efficiency: 1.1 + Math.random() * 0.5,
      driverScore: Math.floor(Math.random() * 25) + 75,
      cycles,
      batteryTemp: Math.floor(Math.random() * 20) + 18,
      ambientTemp: Math.floor(Math.random() * 5) + 5,
      hvacLoad: status === 'Driving' ? Math.floor(Math.random() * 10) + 8 : 0,
      nextService: `${Math.floor(Math.random() * 30) + 1}d`,
      lastSync: `${Math.floor(Math.random() * 50) + 10}ms`,
      connectionType: connections[Math.floor(Math.random() * connections.length)],
      predictedSoCAtDeparture: soc + (status === 'Charging' ? Math.floor(Math.random() * 20) : 0),
      chargingTimeRemaining: status === 'Charging' ? Math.floor(Math.random() * 60) + 15 : 0,
      rangeRemaining: Math.floor(soc * 2.8),
    });
  }

  return vehicles;
}
